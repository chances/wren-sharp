<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
  </PropertyGroup>

  <Target Name="InitWrenGitSubmodule" AfterTargets="BeforeBuild">
    <!-- <Exec Command="ls" WorkingDirectory="$(SolutionDir)" Condition="'$(OS)' != 'Windows_NT'" /> -->
    <!-- <Exec Command="dir" WorkingDirectory="$(SolutionDir)" Condition="'$(OS)' == 'Windows_NT'" /> -->
    <Exec Command="git submodule init" WorkingDirectory="$(SolutionDir)" />
    <Exec Command="git submodule update" WorkingDirectory="$(SolutionDir)" />
    <Message Text="Compiling Wren VM..." Importance="high" />
    <Exec Command="make vm" WorkingDirectory="$(SolutionDir)/wren" />
    <Message Text="Compiled." Importance="high" />
  </Target>

</Project>
